{
  "openapi": "3.1.0",
  "info": {
    "title": "FastAPI",
    "version": "0.1.0"
  },
  "paths": {
    "/api/auth/google/authorize": {
      "get": {
        "tags": ["auth"],
        "summary": "Oauth:Google.Jwt.Authorize",
        "operationId": "oauth_google_jwt_authorize_api_auth_google_authorize_get",
        "parameters": [
          {
            "name": "scopes",
            "in": "query",
            "required": false,
            "schema": {
              "type": "array",
              "items": {
                "type": "string"
              },
              "title": "Scopes"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OAuth2AuthorizeResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/google/callback": {
      "get": {
        "tags": ["auth"],
        "summary": "Oauth:Google.Jwt.Callback",
        "description": "The response varies based on the authentication backend used.",
        "operationId": "oauth_google_jwt_callback_api_auth_google_callback_get",
        "parameters": [
          {
            "name": "code",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Code"
            }
          },
          {
            "name": "code_verifier",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Code Verifier"
            }
          },
          {
            "name": "state",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "State"
            }
          },
          {
            "name": "error",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Error"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "400": {
            "content": {
              "application/json": {
                "examples": {
                  "INVALID_STATE_TOKEN": {
                    "summary": "Invalid state token."
                  },
                  "LOGIN_BAD_CREDENTIALS": {
                    "summary": "User is inactive.",
                    "value": {
                      "detail": "LOGIN_BAD_CREDENTIALS"
                    }
                  }
                },
                "schema": {
                  "$ref": "#/components/schemas/ErrorModel"
                }
              }
            },
            "description": "Bad Request"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/users/me": {
      "get": {
        "tags": ["users"],
        "summary": "Get Current User",
        "operationId": "get_current_user_api_users_me_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserRead"
                }
              }
            }
          }
        },
        "security": [
          {
            "APIKeyCookie": []
          }
        ]
      }
    },
    "/api/students": {
      "get": {
        "tags": ["students"],
        "summary": "Get Students",
        "operationId": "get_students_api_students_get",
        "security": [
          {
            "APIKeyCookie": []
          }
        ],
        "parameters": [
          {
            "name": "active",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": true,
              "title": "Active"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Student"
                  },
                  "title": "Response Get Students Api Students Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": ["students"],
        "summary": "Create Student",
        "operationId": "create_student_api_students_post",
        "security": [
          {
            "APIKeyCookie": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "$ref": "#/components/schemas/Body_create_student_api_students_post"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Student"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/students/all": {
      "get": {
        "tags": ["students"],
        "summary": "Get All Students",
        "operationId": "get_all_students_api_students_all_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/Student"
                  },
                  "type": "array",
                  "title": "Response Get All Students Api Students All Get"
                }
              }
            }
          }
        },
        "security": [
          {
            "APIKeyCookie": []
          }
        ]
      }
    },
    "/api/students/{student_ra}": {
      "get": {
        "tags": ["students"],
        "summary": "Get Student By Ra",
        "operationId": "get_student_by_ra_api_students__student_ra__get",
        "security": [
          {
            "APIKeyCookie": []
          }
        ],
        "parameters": [
          {
            "name": "student_ra",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Student Ra"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Student"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": ["students"],
        "summary": "Update Student By Ra",
        "operationId": "update_student_by_ra_api_students__student_ra__patch",
        "security": [
          {
            "APIKeyCookie": []
          }
        ],
        "parameters": [
          {
            "name": "student_ra",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Student Ra"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "$ref": "#/components/schemas/Body_update_student_by_ra_api_students__student_ra__patch"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Student"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/students/csv": {
      "post": {
        "tags": ["students"],
        "summary": "Create Students By Csv",
        "operationId": "create_students_by_csv_api_students_csv_post",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_create_students_by_csv_api_students_csv_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "APIKeyCookie": []
          }
        ]
      }
    },
    "/api/students/bulk_activate": {
      "patch": {
        "tags": ["students"],
        "summary": "Activate Student Bulk By Ra",
        "operationId": "activate_student_bulk_by_ra_api_students_bulk_activate_patch",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "items": {
                  "type": "integer"
                },
                "type": "array",
                "title": "Ra List"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/Student"
                  },
                  "type": "array",
                  "title": "Response Activate Student Bulk By Ra Api Students Bulk Activate Patch"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "APIKeyCookie": []
          }
        ]
      }
    },
    "/api/students/bulk_deactivate": {
      "patch": {
        "tags": ["students"],
        "summary": "Deactivate Student Bulk By Ra",
        "operationId": "deactivate_student_bulk_by_ra_api_students_bulk_deactivate_patch",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "items": {
                  "type": "integer"
                },
                "type": "array",
                "title": "Ra List"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/Student"
                  },
                  "type": "array",
                  "title": "Response Deactivate Student Bulk By Ra Api Students Bulk Deactivate Patch"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "APIKeyCookie": []
          }
        ]
      }
    },
    "/api/facial_recognition/recognize": {
      "post": {
        "tags": ["facial recognition"],
        "summary": "Recognize",
        "operationId": "recognize_api_facial_recognition_recognize_post",
        "requestBody": {
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "$ref": "#/components/schemas/Body_recognize_api_facial_recognition_recognize_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DeepFaceRecognizeReturn"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/attendances/attendance-dates": {
      "get": {
        "tags": ["attendances"],
        "summary": "Get Attendances Dates",
        "operationId": "get_attendances_dates_api_attendances_attendance_dates_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        },
        "security": [
          {
            "APIKeyCookie": []
          }
        ]
      }
    },
    "/api/attendances/": {
      "post": {
        "tags": ["attendances"],
        "summary": "Create Attendance",
        "operationId": "create_attendance_api_attendances__post",
        "requestBody": {
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "$ref": "#/components/schemas/Body_create_attendance_api_attendances__post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AttendanceStudentReturn"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "APIKeyCookie": []
          }
        ]
      }
    },
    "/api/attendances/csv": {
      "post": {
        "tags": ["attendances"],
        "summary": "Create Attendance Csv By Date",
        "operationId": "create_attendance_csv_by_date_api_attendances_csv_post",
        "requestBody": {
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "$ref": "#/components/schemas/Body_create_attendance_csv_by_date_api_attendances_csv_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "APIKeyCookie": []
          }
        ]
      }
    },
    "/api/static/students/images/{student_ra}": {
      "get": {
        "tags": ["static"],
        "summary": "Get Student Image",
        "operationId": "get_student_image_api_static_students_images__student_ra__get",
        "parameters": [
          {
            "name": "student_ra",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Student Ra"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/rollcall/active_tokens": {
      "get": {
        "tags": ["rollcall"],
        "summary": "Get Active Tokens",
        "operationId": "get_active_tokens_api_rollcall_active_tokens_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "type": "string"
                  },
                  "type": "array",
                  "title": "Response Get Active Tokens Api Rollcall Active Tokens Get"
                }
              }
            }
          }
        },
        "security": [
          {
            "APIKeyCookie": []
          }
        ]
      }
    },
    "/api/rollcall/start": {
      "post": {
        "tags": ["rollcall"],
        "summary": "Start Rollcall",
        "operationId": "start_rollcall_api_rollcall_start_post",
        "requestBody": {
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "$ref": "#/components/schemas/Body_start_rollcall_api_rollcall_start_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "APIKeyCookie": []
          }
        ]
      }
    },
    "/api/rollcall/stop": {
      "post": {
        "tags": ["rollcall"],
        "summary": "Stop Rollcall",
        "operationId": "stop_rollcall_api_rollcall_stop_post",
        "requestBody": {
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "$ref": "#/components/schemas/Body_stop_rollcall_api_rollcall_stop_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "APIKeyCookie": []
          }
        ]
      }
    }
  },
  "components": {
    "schemas": {
      "AttendanceStudentReturn": {
        "properties": {
          "date": {
            "type": "string",
            "format": "date",
            "title": "Date"
          },
          "times": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Times"
          },
          "ra": {
            "type": "integer",
            "title": "Ra"
          }
        },
        "type": "object",
        "required": ["date", "times", "ra"],
        "title": "AttendanceStudentReturn"
      },
      "Body_create_attendance_api_attendances__post": {
        "properties": {
          "jwt": {
            "type": "string",
            "title": "Jwt"
          }
        },
        "type": "object",
        "required": ["jwt"],
        "title": "Body_create_attendance_api_attendances__post"
      },
      "Body_create_attendance_csv_by_date_api_attendances_csv_post": {
        "properties": {
          "date": {
            "type": "string",
            "title": "Date"
          }
        },
        "type": "object",
        "required": ["date"],
        "title": "Body_create_attendance_csv_by_date_api_attendances_csv_post"
      },
      "Body_create_student_api_students_post": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name"
          },
          "ra": {
            "type": "integer",
            "title": "Ra"
          },
          "image_base64": {
            "type": "string",
            "title": "Image Base64"
          }
        },
        "type": "object",
        "required": ["name", "ra", "image_base64"],
        "title": "Body_create_student_api_students_post"
      },
      "Body_create_students_by_csv_api_students_csv_post": {
        "properties": {
          "csv_file": {
            "type": "string",
            "format": "binary",
            "title": "Csv File"
          }
        },
        "type": "object",
        "required": ["csv_file"],
        "title": "Body_create_students_by_csv_api_students_csv_post"
      },
      "Body_recognize_api_facial_recognition_recognize_post": {
        "properties": {
          "image_base64": {
            "type": "string",
            "title": "Image Base64"
          },
          "recognize_token": {
            "type": "string",
            "title": "Recognize Token"
          }
        },
        "type": "object",
        "required": ["image_base64", "recognize_token"],
        "title": "Body_recognize_api_facial_recognition_recognize_post"
      },
      "Body_start_rollcall_api_rollcall_start_post": {
        "properties": {
          "rollcall_token": {
            "type": "string",
            "title": "Rollcall Token"
          }
        },
        "type": "object",
        "required": ["rollcall_token"],
        "title": "Body_start_rollcall_api_rollcall_start_post"
      },
      "Body_stop_rollcall_api_rollcall_stop_post": {
        "properties": {
          "rollcall_token": {
            "type": "string",
            "title": "Rollcall Token"
          }
        },
        "type": "object",
        "required": ["rollcall_token"],
        "title": "Body_stop_rollcall_api_rollcall_stop_post"
      },
      "Body_update_student_by_ra_api_students__student_ra__patch": {
        "properties": {
          "name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Name"
          },
          "ra": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Ra"
          },
          "image_base64": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Image Base64"
          },
          "active": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Active"
          }
        },
        "type": "object",
        "title": "Body_update_student_by_ra_api_students__student_ra__patch"
      },
      "DeepFaceRecognizeReturn": {
        "properties": {
          "verified": {
            "type": "boolean",
            "title": "Verified"
          },
          "students": {
            "items": {
              "$ref": "#/components/schemas/DeepFaceStudentReturn"
            },
            "type": "array",
            "title": "Students"
          }
        },
        "type": "object",
        "required": ["verified"],
        "title": "DeepFaceRecognizeReturn"
      },
      "DeepFaceStudentReturn": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name"
          },
          "ra": {
            "type": "integer",
            "title": "Ra"
          },
          "token": {
            "type": "string",
            "title": "Token"
          }
        },
        "type": "object",
        "required": ["name", "ra", "token"],
        "title": "DeepFaceStudentReturn"
      },
      "ErrorModel": {
        "properties": {
          "detail": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "additionalProperties": {
                  "type": "string"
                },
                "type": "object"
              }
            ],
            "title": "Detail"
          }
        },
        "type": "object",
        "required": ["detail"],
        "title": "ErrorModel"
      },
      "HTTPValidationError": {
        "properties": {
          "detail": {
            "items": {
              "$ref": "#/components/schemas/ValidationError"
            },
            "type": "array",
            "title": "Detail"
          }
        },
        "type": "object",
        "title": "HTTPValidationError"
      },
      "OAuth2AuthorizeResponse": {
        "properties": {
          "authorization_url": {
            "type": "string",
            "title": "Authorization Url"
          }
        },
        "type": "object",
        "required": ["authorization_url"],
        "title": "OAuth2AuthorizeResponse"
      },
      "Student": {
        "properties": {
          "_id": {
            "anyOf": [
              {
                "type": "string",
                "example": "5eb7cf5a86d9755df3a6c593"
              },
              {
                "type": "null"
              }
            ],
            "title": "Id",
            "description": "MongoDB document ObjectID"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "ra": {
            "type": "integer",
            "title": "Ra"
          },
          "active": {
            "type": "boolean",
            "title": "Active",
            "default": true
          },
          "image_path": {
            "anyOf": [
              {
                "type": "string",
                "format": "file-path"
              },
              {
                "type": "null"
              }
            ],
            "title": "Image Path"
          }
        },
        "type": "object",
        "required": ["name", "ra", "image_path"],
        "title": "Student"
      },
      "UserRead": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "example": "5eb7cf5a86d9755df3a6c593"
          },
          "email": {
            "type": "string",
            "format": "email",
            "title": "Email"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active",
            "default": true
          },
          "is_superuser": {
            "type": "boolean",
            "title": "Is Superuser",
            "default": false
          },
          "is_verified": {
            "type": "boolean",
            "title": "Is Verified",
            "default": false
          }
        },
        "type": "object",
        "required": ["id", "email"],
        "title": "UserRead"
      },
      "ValidationError": {
        "properties": {
          "loc": {
            "items": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                }
              ]
            },
            "type": "array",
            "title": "Location"
          },
          "msg": {
            "type": "string",
            "title": "Message"
          },
          "type": {
            "type": "string",
            "title": "Error Type"
          }
        },
        "type": "object",
        "required": ["loc", "msg", "type"],
        "title": "ValidationError"
      }
    },
    "securitySchemes": {
      "APIKeyCookie": {
        "type": "apiKey",
        "in": "cookie",
        "name": "fastapiusersauth"
      }
    }
  }
}
